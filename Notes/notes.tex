\documentclass[11pt]{article}

% Encoding and font setup compatible with pdfLaTeX
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}

\usepackage[
  top=3cm,      % top margin
  bottom=3cm,   % bottom margin
]{geometry}


% Math and theorem packages
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{xcolor}
\usepackage{fancybox}

% Simple boxed environments (pdfLaTeX-compatible)
\definecolor{boxgray}{gray}{0.85}
\definecolor{boxborder}{gray}{0.4}

\newenvironment{graybox}{%
  \par\medskip
  \noindent
  \setlength{\fboxsep}{10pt}%
  \setlength{\fboxrule}{1pt}%
  \begin{Sbox}%
  \begin{minipage}{0.96\linewidth}%
}{%
  \end{minipage}%
  \end{Sbox}%
  \fcolorbox{boxborder}{boxgray}{\TheSbox}%
  \par\medskip
}

\newenvironment{whitebox}{%
  \par\medskip
  \noindent
  \setlength{\fboxsep}{10pt}%
  \setlength{\fboxrule}{1pt}%
  \begin{Sbox}%
  \begin{minipage}{0.96\linewidth}%
}{%
  \end{minipage}%
  \end{Sbox}%
  \fcolorbox{boxborder}{white}{\TheSbox}%
  \par\medskip
}

\newtheorem{definition}{Definition}


\title{Notes on Causality}
\author{Tom√°s Paiva de Lira}

\begin{document}
\maketitle

\begin{abstract}
The subject of causality has accompanied men on the journey of \textit{understanding} since its inception: from Aristotle's postulation of the four causes that delineate physical phenomena, to Hume's framework of constant conjunctions.
A paradigm shift occurred at the turn of the 20th century, a time when the philosophy of Positivism held the most adherence in the scientific community. As a result, the founders of modern statistics, such as Karl Pearson and Francis Galton, rejected the inquiry into that which had no empirical grounding. Restricting the scope of statistics to answering "what" rather than "why".
However, motivated to mitigate the missing data problem, Rubin proposed a model based on potential outcomes that was inherently causal, but restricted its scope to measuring effects. Rubin's Causal Model joined causality back with statistics. 
The objective of these notes is to elucidate the modern applications of causality through the agnostic perspective that measure theory permits. Moreover, once proven, these causal techniques are put to the test with real examples to understand their limitations and successes.
 

\end{abstract}
\newpage

\tableofcontents
\newpage



\section{Potential Outcomes}

\subsection{Answering a Different Type of Question}

\begingroup
\raggedright
Correctly using any causal framework requires understanding the types of questions and premises assumed by standard statistical procedures, such as linear regression, and knowing how to overcome their limitations. In light of this, our exposition of causality will be presented by contrasting the different styles of \textit{thought} between these two paradigms by applying them to real-world data.

\vspace{1em}

It is required to understand what a \textit{causal effect} is. In regression, our goal is to maximize the likelihood of the response variable given explanatory variable to obtain a good estimate for $\mathbb{E}[Y\mid X=x]$ . On the other hand, in causality we are interested in measuring the contrast, in this context known as the effect, in the response variable by asking: what if $X=x'$ were the case, instead of $X=x$. This seemingly subtle change of inquiry completely overhauls how we ought to think of statistics. For starters, the question requires a leap of faith: we must assume that we could observe two states for the same unit simultaneously. In other words, it is as if we have run two procedures on two literally identical units and registered their responses

\endgroup

\vspace{1em}

\begingroup
\raggedright

Such assumption is empirically impossible to verify, known as making a counterfactual presupposition.
It is tempting to question the necessity of this claim. After all, after fitting a regression line through the data, one can easily calculate the difference:
$\mathbb{E}[Y\mid X=x ] - \mathbb{E}[Y\mid X=x']$, 
by selecting the output from the adjusted line with respect to the points of interest.

\vspace{1em}

Unfortunately, this line of reasoning is fallacious. By simply conditioning on observed data, we risk comparing individuals from fundamentally different populations. Consider an example where Y represents salary and X indicates whether an individual attended college. If we simply compare the expected salary of those who attended ($X=1$) versus those who did not ($X=0$), the observed difference is likely spurious. An individual who attends university often comes from a family with greater financial resources or an environment that incentivizes education. This is why the counterfactual reasoning is important for studying effects. More specifically we'll use potential outcomes to solve the proposed problem.

\endgroup


\subsection{Mathematics for Causality}
Suppose that we are working with an i.i.d. sample $\{(Y_i, D_i)\}_{i=1}^n$, where $D_i \in \{0,1\}$. With no further assumptions, the best we can do is study the joint distribution $P(Y_i, D_i) = P(Y_i \mid D_i)\cdot P(D_i)$ to calculate the conditional expectation $\mathbb{E}[Y_i \mid D_i = d]$.



\begin{definition}[Potential Outcomes]
The potential outcomes for unit $i$ are $Y_i(1)$ and $Y_i(0)$, where the former denotes the outcome observed if the unit is treated, and the latter denotes the outcome observed if the unit is not treated.
\end{definition}

\vspace{1em}

\begin{definition}[Individual Causal Effect]
Let $Y_i(1)$ and $Y_i(0)$ denote the potential outcomes for unit $i$. The individual causal effect, denoted by $\tau_i$, is defined as the difference:
$$ \tau_i := Y_i(1) - Y_i(0) $$
\end{definition}




\subsection{Applying Potential Outcomes on Real Data}
The dataset on which we will base our analysis for this section is the LaLonde dataset. The choice isn't arbitrary.
The author intentionally designed the dataset to evaluate if experiments required the expensive randomized controlled trial, rather than the cheaper alternative: an observational study.

\begin{whitebox}
\textbf{Key Distinction: Experimental vs. Non-Experimental}

\medskip
\textbf{Randomized Control Trial.}
A study where assignment to treatment is determined solely by random chance.

\medskip
\textbf{Observational Study.}
A study utilizing existing data where assignment is determined by human choice, circumstance, or via a non-arbitrary selection.
\end{whitebox}

\vspace{1em}

The care shown in the design of the data itself reveals the idiosyncrasies of the causal framework, where our paradigm is present from the very beginning: from how data is collected to the final causal inference. But why is this distintion so important?






\end{document}
